---
icon: elementor
---

# Vertically Scaling Cassandra

| <p>Run the following commands before the activity from one of the cassandra nodes<br>nodetool clientstats<br>nodetool compactionstats<br>nodetool gcstats<br>nodetool netstats<br>nodetool tpstats<br>nodetool tablestats</p>                                                                                                                                  |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Stop the traffic from outside. Stop nginx-public                                                                                                                                                                                                                                                                                                               |
|                                                                                                                                                                                                                                                                                                                                                                |
| <p>Stop the samza jobs<br>ntpprod.course-batch-updater<br>ntpprod.qrcode-image-generator<br>ntpprod.lms.user-account-merger<br>ntpprod.collection-migration<br>ntpprod.lms.sso-account-updater<br>ntpprod.merge-user-courses<br>ntpprod.lms.indexer<br>ntpprod.publish-pipeline<br>ntpprod.course-certificate-generator<br>ntpprod.post-publish-processor</p>  |
| Run nodetool drain in every cassandra node                                                                                                                                                                                                                                                                                                                     |
| Stop cassandra process in every cassandra node                                                                                                                                                                                                                                                                                                                 |
| Take a disk snapshot of each cassandra VM                                                                                                                                                                                                                                                                                                                      |
| Stop the cassandra VMs and change the instnace type d8sV3                                                                                                                                                                                                                                                                                                      |
| Start the cassandra VMs                                                                                                                                                                                                                                                                                                                                        |
| <p>Run the following commands from one of the cassandra nodes<br>nodetool clientstats<br>nodetool compactionstats<br>nodetool gcstats<br>nodetool netstats<br>nodetool tpstats<br>nodetool tablestats</p>                                                                                                                                                      |
| Run sample cassandra queries                                                                                                                                                                                                                                                                                                                                   |
| <p>Start the samza jobs<br>ntpprod.course-batch-updater<br>ntpprod.qrcode-image-generator<br>ntpprod.lms.user-account-merger<br>ntpprod.collection-migration<br>ntpprod.lms.sso-account-updater<br>ntpprod.merge-user-courses<br>ntpprod.lms.indexer<br>ntpprod.publish-pipeline<br>ntpprod.course-certificate-generator<br>ntpprod.post-publish-processor</p> |
| Start nginx-public to allow traffic                                                                                                                                                                                                                                                                                                                            |
